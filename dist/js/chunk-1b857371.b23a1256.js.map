{"version":3,"sources":["webpack:///./src/restApi/board/notice/index.js","webpack:///./src/components/lists/NoticeList.vue?b530","webpack:///./src/components/lists/NoticeList.vue?e1f1","webpack:///src/components/lists/NoticeList.vue","webpack:///./src/components/lists/NoticeList.vue?84f8","webpack:///./src/components/lists/NoticeList.vue?f327"],"names":["getNotice","params","axios","get","getNoticeDetail","data","store","post","site","user","title","content","update","put","id","destory","delete","hit_store","notice","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","search","expression","isStaff","name","_v","_e","headers","loading","scopedSlots","_u","key","fn","ref","item","on","$event","detailView","class","_s","count","map","x","indexOf","username","created_at","hit","staticRenderFns","component","VBtn","VCard","VCardTitle","VDataTable","VSpacer","VTextField"],"mappings":"6XAGaA,EAAS,yDAAG,4GAASC,EAAT,EAASA,OAAT,kBAAsBC,OAAMC,IAAI,iBAAkB,CAACF,YAAnD,2CAAH,sDACTG,EAAe,yDAAG,WAAOC,GAAP,0GAAgBH,OAAMC,IAAI,iBAAiBE,EAAK,MAAhD,2CAAH,sDACfC,EAAK,yDAAG,4GAAQD,EAAR,EAAQA,KAAR,kBAAkBH,OAAMK,KAAK,iBAAiB,CAACC,KAAKH,EAAKG,KAAKC,KAAKJ,EAAKI,KAAKC,MAAML,EAAKK,MAAMC,QAAQN,EAAKM,WAA3G,2CAAH,sDACLC,EAAM,yDAAG,4GAAQP,EAAR,EAAQA,KAAR,kBAAkBH,OAAMW,IAAI,iBAAiBR,EAAKS,GAAG,IAAI,CAACJ,MAAML,EAAKK,MAAMC,QAAQN,EAAKM,WAAxF,2CAAH,sDACNI,EAAO,yDAAG,4GAAQV,EAAR,EAAQA,KAAR,kBAAkBH,OAAMc,OAAO,iBAAiBX,EAAK,MAArD,2CAAH,sDAKPY,EAAS,yDAAG,4GAAQZ,EAAR,EAAQA,KAAR,kBAAkBH,OAAMK,KAAK,qBAAqB,CAACW,OAAOb,EAAKS,MAA/D,2CAAH,uD,kCCZtB,W,yCCAA,IAAIK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,cAAc,cAAc,MAAQ,UAAUC,MAAM,CAACC,MAAOT,EAAU,OAAEU,SAAS,SAAUC,GAAMX,EAAIY,OAAOD,GAAKE,WAAW,YAAYT,EAAG,aAAa,GAAGA,EAAG,MAAM,EAAgB,IAAdJ,EAAIc,QAAgBV,EAAG,QAAQ,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,UAAU,cAAc,GAAG,GAAK,CAACQ,KAAM,iBAAiB,CAACf,EAAIgB,GAAG,WAAWhB,EAAIiB,MAAM,KAAKb,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUP,EAAIkB,QAAQ,MAAQlB,EAAIf,KAAK,OAASe,EAAIY,OAAO,QAAUZ,EAAImB,QAAQ,eAAe,IAAIC,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,SAASC,GAC7qB,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACrB,EAAG,KAAK,CAACE,YAAY,UAAUoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAI4B,WAAWH,EAAK/B,OAAO,CAACU,EAAG,KAAK,CAACyB,MAAM7B,EAAIkB,QAAQ,GAAGW,OAAO,CAAC7B,EAAIgB,GAAG,IAAIhB,EAAI8B,GAAG9B,EAAI+B,MAAM/B,EAAIf,KAAK+C,KAAI,SAASC,GAAI,OAAOA,EAAEvC,MAAOwC,QAAQT,EAAK/B,KAAK,OAAOU,EAAG,KAAK,CAACyB,MAAM7B,EAAIkB,QAAQ,GAAGW,OAAO,CAAC7B,EAAIgB,GAAGhB,EAAI8B,GAAGL,EAAKnC,UAAUc,EAAG,KAAK,CAACyB,MAAM7B,EAAIkB,QAAQ,GAAGW,OAAO,CAAC7B,EAAIgB,GAAGhB,EAAI8B,GAAGL,EAAKpC,KAAK8C,aAAa/B,EAAG,KAAK,CAACyB,MAAM7B,EAAIkB,QAAQ,GAAGW,OAAO,CAAC7B,EAAIgB,GAAGhB,EAAI8B,GAAGL,EAAKW,eAAehC,EAAG,KAAK,CAACyB,MAAM7B,EAAIkB,QAAQ,GAAGW,OAAO,CAAC7B,EAAIgB,GAAGhB,EAAI8B,GAAGL,EAAKY,kBAAkB,IACzgBC,EAAkB,G,2FC+CtB,GACE,KAAF,WACE,KAFF,WAGI,MAAJ,CACM,MAAN,EACM,OAAN,GACM,OAAN,GACM,SAAN,EACM,QAAN,CACA,CAAQ,KAAR,KAAQ,MAAR,SAAQ,MAAR,KAAQ,UAAR,EAAQ,MAAR,eACA,CAAQ,KAAR,KAAQ,MAAR,SAAQ,MAAR,QAAQ,MAAR,cACA,CAAQ,KAAR,MAAQ,MAAR,SAAQ,MAAR,gBAAQ,MAAR,eACA,CAAQ,KAAR,MAAQ,MAAR,SAAQ,MAAR,aAAQ,UAAR,EAAQ,MAAR,eACA,CAAQ,KAAR,KAAQ,MAAR,SAAQ,MAAR,MAAQ,MAAR,gBAEM,KAAN,KAGE,QAlBF,WAmBI,KAAJ,QACM,KAAN,sBACM,SAAN,eAEI,KAAJ,aAEE,MAAF,CACI,OAAJ,aAEE,SAAF,iCACA,uBACI,SAAJ,eAFA,IAII,QAJJ,WAKM,QAAN,yCAGE,QAAF,CACI,UADJ,WACM,IAAN,OAAM,OAAN,qDAAQ,OAAR,iFACA,aADA,SAEA,oDACA,eACA,8BAIA,sCAGA,0CACsB,EAAtB,gDAEsB,EAAtB,qDAOA,qBACA,sBACA,gBACA,mBACA,eACA,gBA1BA,8CA8BI,WA/BJ,SA+BA,GACM,KAAN,cAAQ,KAAR,aAAQ,OAAR,CAAU,OAAV,QCtHmT,I,qHCQ/SC,EAAY,eACd,EACAxC,EACAuC,GACA,EACA,KACA,KACA,MAIa,aAAAC,EAAiB,QAUhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,WAAA,OAAWC,aAAA,KAAWC,UAAA,KAAQC,aAAA","file":"js/chunk-1b857371.b23a1256.js","sourcesContent":["import { axios } from '@/config/axios/index.js'\n\n//공지 게시판\nexport const getNotice = async ({ params }) => axios.get('/board/notice/', {params})\nexport const getNoticeDetail = async (data) => axios.get('/board/notice/'+data+'/')\nexport const store = async ({data}) => axios.post('/board/notice/',{site:data.site,user:data.user,title:data.title,content:data.content});\nexport const update = async ({data}) => axios.put('/board/notice/'+data.id+'/',{title:data.title,content:data.content});\nexport const destory = async ({data}) => axios.delete('/board/notice/'+data+'/');\n\n\n//공지 조회기록\n\nexport const hit_store = async ({data}) => axios.post('/board/notice-hit/',{notice:data.id});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoticeList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"justify-end\"},[_c('div',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-spacer')],1),_c('div',[(_vm.isStaff===true)?_c('v-btn',{staticClass:\"ml-10\",attrs:{\"color\":\"primary\",\"router-link\":\"\",\"to\":{name: 'NoticeWrite'}}},[_vm._v(\" 글쓰기 \")]):_vm._e()],1)]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.data,\"search\":_vm.search,\"loading\":_vm.loading,\"disable-sort\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('tr',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.detailView(item.id)}}},[_c('td',{class:_vm.headers[0].class},[_vm._v(\" \"+_vm._s(_vm.count-_vm.data.map(function(x) {return x.id; }).indexOf(item.id))+\" \")]),_c('td',{class:_vm.headers[1].class},[_vm._v(_vm._s(item.title))]),_c('td',{class:_vm.headers[2].class},[_vm._v(_vm._s(item.user.username))]),_c('td',{class:_vm.headers[3].class},[_vm._v(_vm._s(item.created_at))]),_c('td',{class:_vm.headers[4].class},[_vm._v(_vm._s(item.hit))])])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card>\n        <v-card-title class=\"justify-end\">\n            <div>\n                <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n\n                />\n                <v-spacer />\n            </div>\n            <div>\n                <v-btn\n                    v-if=\"isStaff===true\"\n                    color=\"primary\"\n                    router-link\n                    :to=\"{name: 'NoticeWrite'}\"\n                    class=\"ml-10\"\n                >\n                    글쓰기\n                </v-btn>\n            </div>\n        </v-card-title>\n\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"data\"\n            :search=\"search\"\n            :loading=\"loading\"\n            disable-sort\n        >\n            <template v-slot:item=\"{ item }\" >\n                <tr @click=\"detailView(item.id)\" class=\"pointer\">\n                    <td :class=\"headers[0].class\">\n                        {{count-data.map(function(x) {return x.id; }).indexOf(item.id)}}\n                    </td>\n                    <td :class=\"headers[1].class\">{{ item.title }}</td>\n                    <td :class=\"headers[2].class\">{{ item.user.username }}</td>\n                    <td :class=\"headers[3].class\">{{ item.created_at}}</td>\n                    <td :class=\"headers[4].class\">{{ item.hit }}</td>\n                </tr>\n            </template>\n        </v-data-table>\n    </v-card>\n</template>\n<script>\nimport {getNotice} from '@/restApi/board/notice';\nimport moment from 'moment';\nimport {mapGetters} from \"vuex\"\nexport default {\n    name:'PostList',\n    data () {\n        return {\n            count:0,\n            search: '',\n            params:{},\n            loading: false,\n            headers: [\n                { text: 'NO', align: 'center', value:'no', sortable: false, class:'text-center' },\n                { text: '제목', align: 'center', value: 'title', class:['truncate'] },\n                { text: '작성자', align: 'center', value: 'user.username', class:'text-center' },\n                { text: '등록일', align: 'center', value: 'created_at', sortable: false, class:'text-center' },\n                { text: '조회', align: 'center', value: 'hit', class:'text-center' },\n            ],\n            data: [],\n        }\n    },\n    created() {\n        this.params = {\n            site:this.$route.params.id,\n            ordering:'-created_at'\n        }\n        this.fetchData();\n    },\n    watch: {\n        '$route': 'fetchData'\n    },\n    computed: {\n      ...mapGetters('auth',{\n            authData:'loginData'\n        }),\n        isStaff() {\n            return (this.authData) ? this.authData.is_staff : false\n        },\n    },\n    methods: {\n        async fetchData() {\n            this.loading = true\n            await getNotice({params:this.params}).then(response => {\n                let currentDate = new Date()\n                let today = moment(currentDate).format('YYYY-MM-DD');\n\n\n                // for (let i = 0; i < response.data.results; i++) {}\n                response.data.results.forEach( function(val, key) {\n                    // console.log(val.created_at);\n                    // console.log(key);\n                    if(today == moment(val.created_at).format('YYYY-MM-DD')) {\n                        val.created_at = moment(val.created_at).format('HH:mm:ss')\n                    } else {\n                        val.created_at = moment(val.created_at).format('YYYY-MM-DD')\n                    }\n\n\n                });\n\n                // console.log(response.data.results);\n                this.count = response.data.count\n                this.data = response.data.results\n                this.loading = false\n            }).catch((error) => {\n                console.log(error)\n                this.loading = false\n            });\n\n        },\n        detailView(id) {\n            this.$router.push({ name:'NoticeView', params: {notice:id}})\n        }\n    }\n}\n</script>\n<style>\n.truncate {\n    max-width:235px;\n    min-width:235px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoticeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoticeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoticeList.vue?vue&type=template&id=ce9ebab8&\"\nimport script from \"./NoticeList.vue?vue&type=script&lang=js&\"\nexport * from \"./NoticeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoticeList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VDataTable,VSpacer,VTextField})\n"],"sourceRoot":""}